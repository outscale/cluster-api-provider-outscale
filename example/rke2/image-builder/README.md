# rke2 image builder for ubuntu
This project create omi with rke2 and ubuntu 22.04 for cluster-api

## Requirements
 * [Packer](https://www.packer.io/downloads) (>= 1.8.3)

## Usage
Set the following environment variables:
```bash
export OSC_ACCESS_KEY=<ACCESS_KEY>
export OSC_SECRET_KEY=<SECRET_KEY>
export OSC_REGION=eu-west-2 # Outscale Region
export OMI_NAME=<OMI_NAME>
export RKE2_SEMVER=v1.27.9+rke2r1 # version of k8s 
export SOURCE_OMI=ami-a3ca408c # k8s omi generated by image-builder
```

You can then build the image using:
```bash
packer init -upgrade config.pkr.hcl
packer build linux.pkr.hcl # for Linux image
```
